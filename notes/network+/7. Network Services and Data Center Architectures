Network Services and Data Center Architectures

- DNS Network Service
	Translates a domain name to an IP
	Used on internet and LAN

- DNS Namespace Structure
	Third-party DNS
		Reliable, fast, offers other services like controls and phishing protection
	
	Cloud-hosted DNS
		Usually included in a package
		Scalable, reliable, and available
	
	DNS Hierarchy
		Root level - about 15, has access to the next level down
		Top level - .com, .org, etc.
		Second level - The name before ".com", ".org", etc.
		Subdomain
		Host - they system you're looking for
	
	Forward and reverse zones
		Forward - Convert name to IP address, common for websites
		Reverse - find name from IP

- DNS SOA Records
	Zone contains single SOA record
	Record identifies a single authoritative server - the end server that delivers the appropriate website
	
	Structure
		Class
		Current zone - defines zone for which it's authoritative
		Type - SOA
		Primary master - name and IP
		Contact email
		Serial number - separates multiple copies of same zone (for redundency in case one goes down)
		Refresh time
		Retry time
		Expiration time

- Common DNS Record Types
	Name server records
		List servers for domain
		Permit other name servers
		More than one name server - additional servers to distribute load
		
		Fields
			Name
			AddressClass - Usually Internet (IN)
			RecordType - Nameserver (NS)
			Name Server Name - FQDN of responsible server
	
	A Records
		"Address" - equates name to IP address
		"AAAA" used for IPv6
	
	MX Records
		Mail exchanger records
		Needed if your domain is to receive emails
		
		Parameters
			Mail server
			Preference (if more than one)
	
	SRV Record
		Locates services available on network
		Query DNS for locations
		Allows efficient management and distribution
		
		Fields
			Domain name
			TTL - Time to live
			Class - Always IN
			Record type - SRV
			Priority
			Weight
			Port number - where the server is listening
			Target - FQDN of host
	
	Text Record
		Additional information about a named service
	
	Canonical Name
		AKA alias
		Assigns alternate hostname for the same server
			Maybe a server has two services on different ports
			Then you can name them according to the service
			Think www.example.com and ftp.example.com

- DNS Global Hierarchy
	DNS Structure
		One or more parts delimited by dots - more specific to the left (www > domain name > com)
	
	Begins with root (aka dot)
	Top-level
		.net
		.com
		.org
		.edu
		.us
		.gov
		.biz
	Secon-level domain
		company/host name
		.google
		.amazon
	Third-level subdomains
		.mail
		.drive
	Host names
		dc1
	
	Delegation
		Different server at each level
		Root points to top level to second level etc.
	
	Infrastructure
		Need an authoritative server for internal
		Every other server is an 'iterative resolver'
	
	Recursive lookup
		When a client asks its own DNS server to find a name
		That server sends queries to each server across the infrastructure before responding
	
	Zone transfers
		Replicates DNS recors onto different servers for redundency
	
	DNS Caching
		Server remembers ips for requestd names for a short time
		This way it can retrieve from cache instead of sending out a bunch of queries
		
		Needs a TTL - determines how long it will keep cached values
	
